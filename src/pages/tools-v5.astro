---
import BaseLayout from '../layouts/BaseLayout.astro';
const base = import.meta.env.BASE_URL;
---

<BaseLayout title="Tools - CUNY AI Lab">
  <!-- Hero Section -->
  <section class="relative pt-24 pb-10 lg:pt-28 lg:pb-12">
    <div class="absolute inset-0 bg-gradient-to-b from-cuny-blue via-cuny-blue to-vibrant-900"></div>
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml,%3Csvg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;%3E%3Cg fill=&quot;%23ffffff&quot; fill-opacity=&quot;1&quot;%3E%3Cpath d=&quot;M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z&quot;/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <h1 class="text-4xl md:text-5xl font-bold font-display text-white tracking-tight">Tools</h1>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════ -->
  <!-- Sidebar + Content Panel                     -->
  <!-- ═══════════════════════════════════════════ -->

  <section class="bg-neutral-cream min-h-[60vh]">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

      <!-- Mobile: Horizontal selector (visible < lg) -->
      <div class="flex gap-2 mb-8 lg:hidden overflow-x-auto pb-2 -mx-1 px-1">
        <button class="mobile-tab flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all border-2 border-vibrant-500 bg-vibrant-50 text-vibrant-700" data-panel="sandbox">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" /></svg>
          CAIL Sandbox
        </button>
        <button class="mobile-tab flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all border-2 border-transparent bg-white text-gray-600 hover:border-gray-200" data-panel="media">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
          Media Processing
        </button>
        <button class="mobile-tab flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all border-2 border-transparent bg-white text-gray-600 hover:border-gray-200" data-panel="assistants">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
          AI Assistants
        </button>
      </div>

      <div class="tools-layout">

        <!-- ── Sidebar (desktop: sticky, visible >= lg) ── -->
        <aside class="tools-sidebar hidden lg:block">
          <div class="sticky top-24 space-y-3">

            <!-- Sidebar: CAIL Sandbox -->
            <button class="sidebar-card group w-full text-left rounded-xl p-5 transition-all duration-300 bg-white border-l-4 border-vibrant-500 shadow-md" data-panel="sandbox">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-9 h-9 rounded-lg bg-vibrant-100 flex items-center justify-center flex-shrink-0">
                  <svg class="w-4.5 h-4.5 text-vibrant-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                  </svg>
                </div>
                <h2 class="text-base font-bold font-display text-neutral-stone">CAIL Sandbox</h2>
              </div>
              <p class="text-gray-500 text-xs leading-relaxed mb-3 pl-12">AI chat with open-weight models and classroom chatbots</p>
              <div class="flex flex-wrap gap-1 pl-12">
                <span class="px-2 py-0.5 bg-vibrant-50 text-vibrant-700 text-[10px] font-medium rounded-full">Chat</span>
                <span class="px-2 py-0.5 bg-vibrant-50 text-vibrant-700 text-[10px] font-medium rounded-full">Models</span>
                <span class="px-2 py-0.5 bg-vibrant-50 text-vibrant-700 text-[10px] font-medium rounded-full">Chatbots</span>
              </div>
            </button>

            <!-- Sidebar: Media Processing -->
            <button class="sidebar-card group w-full text-left rounded-xl p-5 transition-all duration-300 bg-white/60 border-l-4 border-transparent hover:bg-white hover:shadow-sm" data-panel="media">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-9 h-9 rounded-lg bg-teal-50 flex items-center justify-center flex-shrink-0">
                  <svg class="w-4.5 h-4.5 text-teal-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                  </svg>
                </div>
                <h2 class="text-base font-bold font-display text-neutral-stone">Media Processing</h2>
              </div>
              <p class="text-gray-500 text-xs leading-relaxed mb-3 pl-12">Transcription, alt-text, and OCR tools</p>
              <div class="flex flex-wrap gap-1 pl-12">
                <span class="px-2 py-0.5 bg-teal-50 text-teal-700 text-[10px] font-medium rounded-full">Transcription</span>
                <span class="px-2 py-0.5 bg-teal-50 text-teal-700 text-[10px] font-medium rounded-full">Alt-text</span>
                <span class="px-2 py-0.5 bg-teal-50 text-teal-700 text-[10px] font-medium rounded-full">OCR</span>
              </div>
            </button>

            <!-- Sidebar: AI Assistants -->
            <button class="sidebar-card group w-full text-left rounded-xl p-5 transition-all duration-300 bg-white/60 border-l-4 border-transparent hover:bg-white hover:shadow-sm" data-panel="assistants">
              <div class="flex items-center gap-3 mb-2">
                <div class="w-9 h-9 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0">
                  <svg class="w-4.5 h-4.5 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                </div>
                <h2 class="text-base font-bold font-display text-neutral-stone">AI Assistants</h2>
              </div>
              <p class="text-gray-500 text-xs leading-relaxed mb-3 pl-12">Research and website building tools</p>
              <div class="flex flex-wrap gap-1 pl-12">
                <span class="px-2 py-0.5 bg-indigo-50 text-indigo-700 text-[10px] font-medium rounded-full">Agent Studio</span>
                <span class="px-2 py-0.5 bg-indigo-50 text-indigo-700 text-[10px] font-medium rounded-full">Site Studio</span>
              </div>
            </button>

          </div>
        </aside>

        <!-- ── Content Panel ── -->
        <div class="min-w-0">

          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <!-- Panel: CAIL Sandbox               -->
          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <div id="panel-sandbox" class="content-panel">
            <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden">

              <!-- Main content -->
              <div class="p-8 lg:p-10">
                <div class="grid md:grid-cols-2 gap-10 items-start">
                  <!-- Left: Screenshot + badges -->
                  <div>
                    <div class="relative">
                      <div class="rounded-xl overflow-hidden shadow-lg border border-gray-200">
                        <img src={`${base}images/tools/tool-owu.png`} alt="CAIL Sandbox interface showing CUNY AI Lab chat platform" class="w-full h-auto" />
                      </div>
                    </div>

                    <div class="mt-6 space-y-2.5">
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">Open-weight models</span>
                          <span class="text-gray-500 text-sm ml-1">— Publicly available weights for transparency and auditability</span>
                        </div>
                      </div>
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">Open-source platform</span>
                          <span class="text-gray-500 text-sm ml-1">— Built on Open WebUI, a community-driven chat interface for running AI models</span>
                        </div>
                      </div>
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">Zero-retention</span>
                          <span class="text-gray-500 text-sm ml-1">— Prompts and outputs are never stored or used for vendor training</span>
                        </div>
                      </div>
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">Citable configs</span>
                          <span class="text-gray-500 text-sm ml-1">— Shareable, reproducible configurations for scholarly use</span>
                        </div>
                      </div>
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">CO₂ estimates</span>
                          <span class="text-gray-500 text-sm ml-1">— Visible energy and carbon cost per interaction</span>
                        </div>
                      </div>
                      <div class="flex items-start gap-3">
                        <div class="w-1.5 h-1.5 rounded-full bg-vibrant-600 mt-2 flex-shrink-0"></div>
                        <div>
                          <span class="font-semibold text-neutral-stone text-sm">Accessibility</span>
                          <span class="text-gray-500 text-sm ml-1">— Text-to-speech, speech-to-text, and more planned</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Right: Description + CTAs -->
                  <div>
                    <h2 class="text-3xl font-bold font-display text-neutral-stone mb-6">CAIL Sandbox</h2>
                    <div class="space-y-4 text-gray-600 leading-relaxed">
                      <p>
                        The <a href="https://chat.ailab.gc.cuny.edu/" target="_blank" rel="noopener noreferrer" class="text-vibrant-600 hover:text-vibrant-700 underline font-semibold">CAIL Sandbox</a> provides faculty, staff, and students with access to an AI chat interface through which they can access a curated set of open-weight models. CUNY faculty, students, and researchers can use the <a href="https://chat.ailab.gc.cuny.edu/" target="_blank" rel="noopener noreferrer" class="text-vibrant-600 hover:text-vibrant-700 underline font-semibold">CAIL Sandbox</a> to access the most robust open-weight AI models while ensuring that their chats and data remain secure. Our zero-retention providers (AWS Bedrock and OpenRouter) do not store any data from prompts or responses, and users can configure the models to their needs while also gaining insight into the environmental impacts of their tool use.
                      </p>
                      <p>
                        Access to the CAIL Sandbox is limited during the Spring 2026 semester. To learn more, <a href={`${base}contact`} class="text-vibrant-600 hover:text-vibrant-700 underline font-semibold">contact us</a>.
                      </p>
                      <p>
                        For a full list of available models with capabilities, licensing, and recommended use cases, see our <a href={`${base}models`} class="text-vibrant-600 hover:text-vibrant-700 underline font-semibold">Model Registry</a>.
                      </p>
                    </div>

                    <div class="mt-8 flex flex-wrap gap-4">
                      <a href="https://chat.ailab.gc.cuny.edu/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-3 bg-vibrant-600 text-white rounded-full font-medium hover:bg-vibrant-700 transition-colors shadow-md">
                        Launch CAIL Sandbox
                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                      </a>
                      <a href={`${base}models`} class="inline-flex items-center gap-2 px-6 py-3 border border-gray-300 text-neutral-stone rounded-full font-medium hover:border-vibrant-300 hover:text-vibrant-600 transition-colors">
                        View Model Registry
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Classroom Chatbots sub-section -->
              <div class="border-t border-gray-100 bg-gray-50/50 p-8 lg:p-10">
                <h3 class="text-xl font-bold font-display text-neutral-stone mb-2">Classroom Chatbots</h3>
                <p class="text-gray-500 text-sm mb-6">Custom assistants built inside the CAIL Sandbox</p>

                <div class="grid md:grid-cols-3 gap-5">
                  <div class="bg-white rounded-xl p-5 border border-gray-100 hover:shadow-md transition-all">
                    <div class="w-9 h-9 rounded-lg bg-vibrant-100 flex items-center justify-center mb-3">
                      <svg class="w-4.5 h-4.5 text-vibrant-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                      </svg>
                    </div>
                    <h4 class="font-bold text-neutral-stone text-sm mb-1.5">AmigAI</h4>
                    <p class="text-gray-600 text-xs leading-relaxed">A Spanish-language chatbot that helps CUNY students practice conversational Spanish through culturally responsive pedagogy.</p>
                  </div>

                  <div class="bg-white rounded-xl p-5 border border-gray-100 hover:shadow-md transition-all">
                    <div class="w-9 h-9 rounded-lg bg-indigo-100 flex items-center justify-center mb-3">
                      <svg class="w-4.5 h-4.5 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                      </svg>
                    </div>
                    <h4 class="font-bold text-neutral-stone text-sm mb-1.5">Course-Specific Assistants</h4>
                    <p class="text-gray-600 text-xs leading-relaxed mb-2">Built for individual courses using your syllabus, readings, and materials. Support students through complex texts with guiding questions.</p>
                    <p class="text-[11px] text-gray-400">Examples: Writing Process Assistant, Paratext Analysis Tool, Active Reading Companion</p>
                  </div>

                  <div class="bg-white rounded-xl p-5 border border-gray-100 hover:shadow-md transition-all">
                    <div class="w-9 h-9 rounded-lg bg-green-100 flex items-center justify-center mb-3">
                      <svg class="w-4.5 h-4.5 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                      </svg>
                    </div>
                    <h4 class="font-bold text-neutral-stone text-sm mb-1.5">Project Templates</h4>
                    <p class="text-gray-600 text-xs leading-relaxed">Reusable configurations designed for common classroom workflows that instructors can adapt across sections or semesters.</p>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <!-- Panel: Media Processing           -->
          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <div id="panel-media" class="content-panel hidden">
            <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden">

              <!-- Portal header -->
              <div class="p-8 lg:p-10 pb-0 lg:pb-0">
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4">
                  <h2 class="text-3xl font-bold font-display text-neutral-stone">CUNY AI Lab Tools Portal</h2>
                  <a href="https://tools.ailab.gc.cuny.edu/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-5 py-2.5 bg-vibrant-600 text-white rounded-full text-sm font-medium hover:bg-vibrant-700 transition-colors flex-shrink-0">
                    Visit Portal
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                  </a>
                </div>
                <p class="text-gray-600 mb-8 max-w-3xl">Standalone web tools built and hosted by the Lab, separate from the CAIL Sandbox. Each runs on its own zero-retention infrastructure.</p>
              </div>

              <!-- Media Processing tools -->
              <div class="px-8 lg:px-10 pb-8 lg:pb-10">
                <h3 class="text-xl font-bold font-display text-neutral-stone mb-2">Media Processing</h3>
                <p class="text-gray-500 text-sm mb-1.5">Powered by Whisper via Fireworks AI, AssemblyAI, and Qwen 3 VL via AWS Bedrock</p>
                <p class="text-xs text-gray-400 mb-6">Need on-premises processing for sensitive data (FERPA, IRB, HIPAA)? <a href={`${base}contact`} class="text-vibrant-600 hover:underline">Contact us</a>.</p>

                <div class="grid md:grid-cols-3 gap-5 mb-8">
                  <a href="https://tools.ailab.gc.cuny.edu/asr/" target="_blank" rel="noopener noreferrer" class="media-tool-btn block bg-neutral-cream rounded-xl p-5 border-2 border-teal-300 transition-all hover:shadow-lg group" data-slide="0">
                    <div class="flex items-start justify-between gap-2">
                      <h4 class="font-bold text-neutral-stone text-sm mb-1">Multilingual Transcription Suite</h4>
                      <svg class="w-4 h-4 text-gray-400 group-hover:text-teal-600 transition-colors flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                    </div>
                    <p class="text-gray-600 text-xs leading-relaxed">Generate transcripts from audio and video in dozens of languages, with optional translation and speaker identification.</p>
                  </a>
                  <a href="https://tools.ailab.gc.cuny.edu/alt-text/" target="_blank" rel="noopener noreferrer" class="media-tool-btn block bg-neutral-cream rounded-xl p-5 border-2 border-transparent transition-all hover:shadow-lg hover:border-gray-200 group" data-slide="1">
                    <div class="flex items-start justify-between gap-2">
                      <h4 class="font-bold text-neutral-stone text-sm mb-1">Image Description</h4>
                      <svg class="w-4 h-4 text-gray-400 group-hover:text-teal-600 transition-colors flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                    </div>
                    <p class="text-gray-600 text-xs leading-relaxed">Create alt-text, captions, and detailed descriptions for images to improve accessibility and support digital publishing workflows.</p>
                  </a>
                  <a href="https://tools.ailab.gc.cuny.edu/ocr/" target="_blank" rel="noopener noreferrer" class="media-tool-btn block bg-neutral-cream rounded-xl p-5 border-2 border-transparent transition-all hover:shadow-lg hover:border-gray-200 group" data-slide="2">
                    <div class="flex items-start justify-between gap-2">
                      <h4 class="font-bold text-neutral-stone text-sm mb-1">Document OCR</h4>
                      <svg class="w-4 h-4 text-gray-400 group-hover:text-teal-600 transition-colors flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                    </div>
                    <p class="text-gray-600 text-xs leading-relaxed">Extract searchable text from PDFs, scanned documents, and archival images — even with difficult layouts or imperfect scans.</p>
                  </a>
                </div>

                <!-- Screenshot Slider -->
                <div class="relative">
                  <div id="media-slider" class="relative rounded-xl overflow-hidden shadow-lg border border-gray-200 bg-gray-50">
                    <div class="relative aspect-[16/10] sm:aspect-[16/9] md:aspect-[16/8]">
                      <img id="slide-0" src={`${base}images/tools/demo-asr.gif`} alt="Demo of Multilingual Transcription Suite - uploading audio and receiving transcript" class="absolute inset-0 w-full h-full object-contain object-top bg-white transition-opacity duration-500 opacity-100" />
                      <img id="slide-1" src={`${base}images/tools/tool-alt-text.png`} alt="Image Description tool interface showing alt-text generation" class="absolute inset-0 w-full h-full object-contain object-top bg-white transition-opacity duration-500 opacity-0" />
                      <img id="slide-2" src={`${base}images/tools/tool-ocr.png`} alt="Document OCR tool interface showing text extraction" class="absolute inset-0 w-full h-full object-contain object-top bg-white transition-opacity duration-500 opacity-0" />
                    </div>
                  </div>
                  <button id="slider-prev" class="absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 shadow-lg border border-gray-200 flex items-center justify-center hover:bg-white transition-colors z-10">
                    <svg class="w-5 h-5 text-neutral-stone" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
                  </button>
                  <button id="slider-next" class="absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 shadow-lg border border-gray-200 flex items-center justify-center hover:bg-white transition-colors z-10">
                    <svg class="w-5 h-5 text-neutral-stone" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                  </button>
                  <div class="flex justify-center gap-2 mt-4">
                    <button class="slider-dot w-2.5 h-2.5 rounded-full bg-teal-500 transition-colors" data-slide="0"></button>
                    <button class="slider-dot w-2.5 h-2.5 rounded-full bg-gray-300 transition-colors" data-slide="1"></button>
                    <button class="slider-dot w-2.5 h-2.5 rounded-full bg-gray-300 transition-colors" data-slide="2"></button>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <!-- Panel: AI Assistants              -->
          <!-- ╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌ -->
          <div id="panel-assistants" class="content-panel hidden">
            <div class="bg-white rounded-2xl border border-gray-200 overflow-hidden">

              <div class="p-8 lg:p-10">
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4">
                  <div>
                    <h2 class="text-3xl font-bold font-display text-neutral-stone">AI Assistants</h2>
                    <p class="text-gray-500 mt-1">Research and website building tools powered by the Anthropic API</p>
                  </div>
                  <a href="https://tools.ailab.gc.cuny.edu/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-5 py-2.5 bg-vibrant-600 text-white rounded-full text-sm font-medium hover:bg-vibrant-700 transition-colors flex-shrink-0">
                    Visit Tools Portal
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                  </a>
                </div>
                <p class="text-gray-600 mb-10 max-w-3xl">Available on the CUNY AI Lab Tools Portal. Each runs on zero-retention infrastructure — no data from prompts or responses is stored.</p>

                <div class="grid md:grid-cols-2 gap-8">
                  <!-- Agent Studio -->
                  <a href="https://tools.ailab.gc.cuny.edu/agent-studio" target="_blank" rel="noopener noreferrer" class="block bg-neutral-cream rounded-xl overflow-hidden border border-gray-200 hover:shadow-lg hover:border-indigo-200 transition-all group">
                    <div class="p-6">
                      <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mb-4">
                        <svg class="w-5 h-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                      </div>
                      <div class="flex items-start justify-between gap-2">
                        <h4 class="text-lg font-bold text-neutral-stone mb-2">Agent Studio</h4>
                        <svg class="w-4 h-4 text-gray-400 group-hover:text-indigo-600 transition-colors flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                      </div>
                      <p class="text-gray-600 text-sm leading-relaxed">Supports research workflows such as exploring datasets, searching academic sources, and producing draft visualizations and summaries.</p>
                    </div>
                  </a>

                  <!-- Site Studio -->
                  <a href="https://tools.ailab.gc.cuny.edu/site-studio/" target="_blank" rel="noopener noreferrer" class="block bg-neutral-cream rounded-xl overflow-hidden border border-gray-200 hover:shadow-lg hover:border-indigo-200 transition-all group">
                    <div class="p-6">
                      <div class="w-10 h-10 rounded-lg bg-pink-100 flex items-center justify-center mb-4">
                        <svg class="w-5 h-5 text-pink-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                        </svg>
                      </div>
                      <div class="flex items-start justify-between gap-2">
                        <h4 class="text-lg font-bold text-neutral-stone mb-2">Site Studio</h4>
                        <svg class="w-4 h-4 text-gray-400 group-hover:text-indigo-600 transition-colors flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                      </div>
                      <p class="text-gray-600 text-sm leading-relaxed">Helps build academic websites (portfolios, CV pages, research sites, and project documentation) through a guided, conversational workflow.</p>
                    </div>
                  </a>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>

    </div>
  </section>

  <!-- ═══════════════════════════════════════════ -->
  <!-- Client-side: Panel switching + Slider       -->
  <!-- ═══════════════════════════════════════════ -->

  <script is:inline>
    (function() {
      // ── Panel switching ──
      var sidebarCards = document.querySelectorAll('.sidebar-card');
      var mobileTabs = document.querySelectorAll('.mobile-tab');
      var panels = document.querySelectorAll('.content-panel');

      // Color configs for sidebar active states
      var cardColors = {
        sandbox: { border: 'border-vibrant-500', bg: 'bg-white', shadow: 'shadow-md' },
        media: { border: 'border-teal-500', bg: 'bg-white', shadow: 'shadow-md' },
        assistants: { border: 'border-indigo-500', bg: 'bg-white', shadow: 'shadow-md' }
      };

      // Color configs for mobile tab active states
      var tabColors = {
        sandbox: { border: 'border-vibrant-500', bg: 'bg-vibrant-50', text: 'text-vibrant-700' },
        media: { border: 'border-teal-500', bg: 'bg-teal-50', text: 'text-teal-700' },
        assistants: { border: 'border-indigo-500', bg: 'bg-indigo-50', text: 'text-indigo-700' }
      };

      function switchPanel(panelId) {
        // Hide all panels
        panels.forEach(function(p) {
          p.classList.add('hidden');
          p.style.opacity = '0';
        });

        // Show selected panel with fade
        var target = document.getElementById('panel-' + panelId);
        if (target) {
          target.classList.remove('hidden');
          // Trigger reflow for animation
          target.offsetHeight;
          target.style.opacity = '1';
        }

        // Update sidebar cards
        sidebarCards.forEach(function(card) {
          var id = card.dataset.panel;
          var colors = cardColors[id];
          if (id === panelId) {
            card.className = 'sidebar-card group w-full text-left rounded-xl p-5 transition-all duration-300 ' + colors.bg + ' border-l-4 ' + colors.border + ' ' + colors.shadow;
          } else {
            card.className = 'sidebar-card group w-full text-left rounded-xl p-5 transition-all duration-300 bg-white/60 border-l-4 border-transparent hover:bg-white hover:shadow-sm';
          }
        });

        // Update mobile tabs
        mobileTabs.forEach(function(tab) {
          var id = tab.dataset.panel;
          var colors = tabColors[id];
          if (id === panelId) {
            tab.className = 'mobile-tab flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all border-2 ' + colors.border + ' ' + colors.bg + ' ' + colors.text;
          } else {
            tab.className = 'mobile-tab flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all border-2 border-transparent bg-white text-gray-600 hover:border-gray-200';
          }
        });

        // Scroll to top of content on mobile
        if (window.innerWidth < 1024) {
          var contentArea = document.querySelector('.content-panel:not(.hidden)');
          if (contentArea) {
            contentArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }
      }

      // Sidebar click handlers
      sidebarCards.forEach(function(card) {
        card.addEventListener('click', function() {
          switchPanel(this.dataset.panel);
        });
      });

      // Mobile tab click handlers
      mobileTabs.forEach(function(tab) {
        tab.addEventListener('click', function() {
          switchPanel(this.dataset.panel);
        });
      });

      // Initialize panel opacity
      panels.forEach(function(p) {
        if (!p.classList.contains('hidden')) {
          p.style.opacity = '1';
        } else {
          p.style.opacity = '0';
        }
      });

      // ── Media Slider (only active when media panel visible) ──
      var current = 0;
      var total = 3;

      function getSlides() {
        return [document.getElementById('slide-0'), document.getElementById('slide-1'), document.getElementById('slide-2')];
      }

      function goTo(index) {
        var slides = getSlides();
        var dots = document.querySelectorAll('.slider-dot');
        var toolBtns = document.querySelectorAll('.media-tool-btn');

        if (!slides[0]) return;

        slides[current].style.opacity = '0';
        if (dots[current]) dots[current].className = 'slider-dot w-2.5 h-2.5 rounded-full bg-gray-300 transition-colors';
        if (toolBtns[current]) toolBtns[current].className = 'media-tool-btn block bg-neutral-cream rounded-xl p-5 border-2 border-transparent transition-all hover:shadow-lg hover:border-gray-200 group';

        current = (index + total) % total;

        slides[current].style.opacity = '1';
        if (dots[current]) dots[current].className = 'slider-dot w-2.5 h-2.5 rounded-full bg-teal-500 transition-colors';
        if (toolBtns[current]) toolBtns[current].className = 'media-tool-btn block bg-neutral-cream rounded-xl p-5 border-2 border-teal-300 transition-all hover:shadow-lg group';
      }

      var prevBtn = document.getElementById('slider-prev');
      var nextBtn = document.getElementById('slider-next');

      if (prevBtn) prevBtn.addEventListener('click', function() { goTo(current - 1); });
      if (nextBtn) nextBtn.addEventListener('click', function() { goTo(current + 1); });

      document.querySelectorAll('.slider-dot').forEach(function(dot) {
        dot.addEventListener('click', function() { goTo(parseInt(this.dataset.slide)); });
      });

      document.querySelectorAll('.media-tool-btn').forEach(function(btn) {
        btn.addEventListener('mouseenter', function() { goTo(parseInt(this.dataset.slide)); });
      });
    })();
  </script>

</BaseLayout>

<style is:global>
  .content-panel {
    transition: opacity 0.25s ease-in-out;
  }
  @media (min-width: 1024px) {
    .tools-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
    }
    .tools-sidebar {
      display: block !important;
    }
  }
</style>
